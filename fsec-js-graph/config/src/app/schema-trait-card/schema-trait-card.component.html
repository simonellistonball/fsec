<nz-card class="trait" [style.top]="(data.top) + 'px'" [nzActions]="[actionEdit, actionEnrichment]">
    <nz-card-meta
        [nzTitle]="nzCardTitle"
        [nzDescription]="data.description || 'Descripton missing'"
    ></nz-card-meta>
    <ng-template #nzCardTitle>
        <a [routerLink]="['/schemas', data.id]">{{ data.name }}</a>
    </ng-template>
    <nz-list [nzDataSource]="data.fields" [nzRenderItem]="item" [nzItemLayout]="'horizontal'" nzSize="large">
        <ng-template #item let-item>
            <div appTrait #fieldItem>
                <nz-list-item class="fieldEntry">
                    <nz-avatar *ngIf="data.edit" [nzText]="Add"></nz-avatar>
                    <nz-list-item-meta
                    [nzTitle]="item.name || item.trait"
                    [nzDescription]="item.description"
                    >
                    <ng-template #nzTitle>
                        {{ item.name }}
                    </ng-template>
                    </nz-list-item-meta>
                </nz-list-item>
            </div>
        </ng-template>
    </nz-list>    
</nz-card>

<ng-template #actionEdit>
    <div (click)="edit(data)" class="action-wrapper"><i nz-icon type="edit"></i></div>
</ng-template>
<ng-template #actionEnrichment>
    <div (click)="enrichment(data)" class="action-wrapper"><i nz-icon type="bars"></i></div>
</ng-template>
